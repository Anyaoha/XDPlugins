const moment=require("../../lib/moment"),faker=require("../../lib/faker");let dateFormat,datesToString=function(e){return"relative"===dateFormat?e.from(moment()):e.format(dateFormat)};function TextService(){this.PRICE_DEF={min:0,max:1e3,curr:"$"},this.R_NO_DEF={from:0,to:9999,dec:2},this.MIN_WEIGHT=1,this.MAX_WEIGHT=10,this.Texts=[],this._TextsBack=[],this.Prefix="",this.Suffix=""}TextService.prototype.GenerateTexts=function(e,t,s,...r){if(this.Texts.length=0,"fake"===t)for(let r=0;r<e;r++)this.Texts.push(faker[t](s));else for(let i=0;i<e;i++)this.Texts.push(faker[t][s](r[0],r[1],r[2]));this._TextsBack=this.Texts.slice()},TextService.prototype.GenerateNumbers=function(e,t,s,r){if(this.Texts.length=0,r){let r=Math.min(t,s),i=Math.max(t,s);for(let o=0;o<e;o++)this.Texts.push(r),++r>i&&(r=Math.min(t,s))}else for(let r=0;r<e;r++)this.Texts.push(faker.random.number({min:parseInt(t),max:parseInt(s)}));this._TextsBack=this.Texts.shuffle().slice()},TextService.prototype.GenerateAddresses=function(){},TextService.prototype.GenerateNames=function(e,t,s){if(this.Texts.length=0,-1===t)if("findName"===s)for(let t=0;t<e;t++)this.Texts.push(faker.name.findName(void 0,void 0,faker.random.arrayElement([0,1])));else for(let t=0;t<e;t++)this.Texts.push(faker.name[s](faker.random.arrayElement([0,1])));else if("findName"===s)for(let s=0;s<e;s++)this.Texts.push(faker.name.findName(void 0,void 0,t));else for(let r=0;r<e;r++)this.Texts.push(faker.name[s](t));this._TextsBack=this.Texts.slice()},TextService.prototype.GenerateDates=function(e,t,s,r){this.Texts.length=0,dateFormat=t;for(let t=0;t<e;t++)this.Texts.push(moment(faker.date[s](r)));this._TextsBack=this.Texts.slice()},TextService.prototype.GeneratePrices=function(e,t,s,r,i){this.Texts.length=0;let o=t.split(" ")[0],a=t.split(" ")[1];if("VAL"===o.split("+")[0])for(let t=0;t<e;t++)this.Texts.push(faker.commerce.price(s,r,a)+i);else for(let t=0;t<e;t++)this.Texts.push(i+faker.commerce.price(s,r,a));this._TextsBack=this.Texts.slice()},TextService.prototype.Sort=function(e){let t=this;if(t.Texts=t._TextsBack.slice(),"alpha"===e.type)1===e.sort?t.Texts.sort():-1===e.sort&&t.Texts.sort().reverse();else if("num"===e.type)1===e.sort?t.Texts.numSort():-1===e.sort&&t.Texts.numSort().reverse();else if("date"===e.type){let s=t._TextsBack.slice();1===e.sort?t.Texts=s.dateSort().map(datesToString):-1===e.sort?t.Texts=s.dateSort().reverse().map(datesToString):t.Texts=s.map(datesToString)}else"custom"===e.type&&(1===e.sort?t.Texts.sort():-1===e.sort?t.Texts.sort().reverse():99===e.sort&&t.Texts.shuffle());return t.Texts.map(e=>t.Prefix+e.toString()+t.Suffix)},TextService.prototype.ClearTexts=function(){this.Texts.length=0,this._TextsBack.length=0},module.exports=new TextService;